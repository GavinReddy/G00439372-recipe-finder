<!-- ============================================
     HOME.PAGE.HTML - Main Search Page Template
     ============================================
     This template displays:
     - Header with student number and navigation icons
     - Search input for ingredients
     - Search button
     - Loading spinner
     - List of recipe cards with results
-->

<!-- Header Section -->
<ion-header>
  <ion-toolbar>
    
    <!-- Display student number from component -->
    <!-- {{ studentNumber }} = interpolation, pulls value from home.page.ts -->
    <ion-title>{{ studentNumber }}</ion-title>
    
    <!-- Navigation Buttons to be positioned at end of the toolbar -->
    <ion-buttons slot="end">
      
      <!-- Favourites Button -->
      <!-- (click) = event binding, calls goToFavourites() method when clicked -->
      <ion-button (click)="goToFavourites()">
        <ion-icon name="heart"></ion-icon>
      </ion-button>
      
      <!-- Settings Button -->
      <!-- (click) = event binding, calls goToSettings() method when clicked -->
      <ion-button (click)="goToSettings()">
        <ion-icon name="settings"></ion-icon>
      </ion-button>
      
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<!-- Main Content -->
<ion-content>
  
  <!-- Search Input -->
  <ion-item>
    <!-- Label above the input field -->
    <ion-label position="stacked">Enter Ingredients</ion-label>
    
    <!-- Text Input Field -->
    <!-- [(ngModel)] = two-way data binding -->
    <!-- - When user types, 'ingredients' variable updates -->
    <!-- - When 'ingredients' changes in code, input updates -->
    <ion-input
      [(ngModel)]="ingredients"
      placeholder="Ingredients"
      type="text"
    ></ion-input>
  </ion-item>
  
  <!-- Search Button -->
  <!-- expand="block" = button takes full width -->
  <!-- (click) = calls searchRecipes() method when clicked -->
  <ion-button expand="block" (click)="searchRecipes()">SEARCH</ion-button>
  
  <!-- Loading Spinner to indicate the API call is in progress -->
  <!-- *ngIf = structural directive, only shows when isLoading is true -->
  <div *ngIf="isLoading" class="loading-container">
    <ion-spinner></ion-spinner>
  </div>
  
  <!-- Recipe Results List -->
  <!-- *ngIf = only shows when recipes array has items -->
  <ion-list *ngIf="recipes.length > 0">
    
    <!-- A recipe card is repeated for each recipe -->
    <!-- *ngFor = loop directive, creates one card per recipe in array -->
    <!-- 'let recipe of recipes' = loop variable declaration -->
    <ion-card *ngFor="let recipe of recipes">
      
      <!-- Recipe Image -->
      <!-- [src] = property binding, sets src attribute from recipe.image -->
      <ion-img [src]="recipe.image"></ion-img>
      
      <ion-card-header>
        <!-- Recipe Title -->
        <!-- {{ recipe.title }} = interpolation, displays recipe name -->
        <ion-card-title>{{ recipe.title }}</ion-card-title>
      </ion-card-header>
      
      <ion-card-content>
        <!-- Details Button -->
        <!-- (click) = passes this specific recipe to viewDetails() -->
        <ion-button (click)="viewDetails(recipe)">DETAILS</ion-button>
      </ion-card-content>
      
    </ion-card>
  </ion-list>
  
</ion-content>
